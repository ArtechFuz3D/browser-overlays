<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1920, height=1080">
    <title>LEGO Screensaver Overlay</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 1920px;
            height: 1080px;
            overflow: hidden;
            background: transparent;
        }

        .screensaver-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        /* LEGO head */
        .lego-head {
            position: absolute;
            width: 80px;
            height: 100px;
            animation: spin 4s linear infinite;
        }

        /* LEGO head top stud */
        .head-stud {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 35px;
            height: 20px;
            border-radius: 50% 50% 45% 45% / 60% 60% 40% 40%;
            box-shadow: 
                inset 0 -2px 4px rgba(0, 0, 0, 0.3),
                inset 0 2px 4px rgba(255, 255, 255, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.4);
            z-index: 5;
        }

        /* LEGO head main part */
        .head-main {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 12px 12px 8px 8px;
            box-shadow: 
                inset 0 -4px 0 rgba(0, 0, 0, 0.2),
                inset 0 4px 0 rgba(255, 255, 255, 0.25),
                0 10px 25px rgba(0, 0, 0, 0.4);
        }

        /* Face features */
        .face {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 60%;
        }

        .eyes {
            display: flex;
            justify-content: space-between;
            padding: 0 12px;
            margin-top: 18px;
        }

        .eye {
            width: 14px;
            height: 14px;
            background: #000;
            border-radius: 50%;
            position: relative;
        }

        .eye::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
        }

        /* Different face expressions */
        .face-happy .smile {
            width: 32px;
            height: 16px;
            border: 3px solid #000;
            border-top: none;
            border-radius: 0 0 32px 32px;
            margin: 12px auto 0;
        }

        .face-silly .smile {
            width: 28px;
            height: 14px;
            border: 3px solid #000;
            border-top: none;
            border-radius: 0 0 28px 28px;
            transform: rotate(-10deg);
            margin: 12px auto 0;
        }

        .face-silly .eye {
            animation: eyesCross 2s ease-in-out infinite;
        }

        @keyframes eyesCross {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(3px); }
        }

        .face-silly .eye:last-child {
            animation-direction: reverse;
        }

        .face-wink .smile {
            width: 30px;
            height: 14px;
            border: 3px solid #000;
            border-top: none;
            border-radius: 0 0 30px 30px;
            margin: 12px auto 0;
        }

        .face-wink .eye:first-child {
            animation: wink 3s ease-in-out infinite;
        }

        @keyframes wink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        .face-surprised .eye {
            width: 18px;
            height: 18px;
        }

        .face-surprised .smile {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid #000;
            margin: 10px auto 0;
        }

        /* Angry face */
        .face-angry .eye {
            width: 16px;
            height: 16px;
            position: relative;
        }

        .face-angry .eye::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 0;
            width: 100%;
            height: 4px;
            background: #000;
            transform: rotate(-25deg);
        }

        .face-angry .eye:last-child::before {
            transform: rotate(25deg);
        }

        .face-angry .smile {
            width: 28px;
            height: 14px;
            border: 3px solid #000;
            border-bottom: none;
            border-radius: 28px 28px 0 0;
            margin: 16px auto 0;
        }

        /* Sleepy face */
        .face-sleepy .eye {
            width: 20px;
            height: 6px;
            border-radius: 0 0 10px 10px;
        }

        .face-sleepy .smile {
            width: 25px;
            height: 12px;
            border: 3px solid #000;
            border-top: none;
            border-radius: 0 0 25px 25px;
            margin: 18px auto 0;
        }

        /* Cool face with sunglasses */
        .face-cool .eye {
            width: 22px;
            height: 10px;
            border-radius: 2px;
            background: #000;
        }

        .face-cool .eye::after {
            display: none;
        }

        .face-cool .eyes::before {
            content: '';
            position: absolute;
            top: 23px;
            left: 8px;
            width: 60px;
            height: 3px;
            background: #000;
        }

        .face-cool .smile {
            width: 20px;
            height: 10px;
            border: 3px solid #000;
            border-top: none;
            border-radius: 0 0 20px 20px;
            margin: 18px auto 0;
        }

        /* Big grin */
        .face-grin .eye {
            width: 12px;
            height: 16px;
            border-radius: 50% 50% 40% 40%;
        }

        .face-grin .smile {
            width: 38px;
            height: 20px;
            border: 3px solid #000;
            border-top: none;
            border-radius: 0 0 38px 38px;
            margin: 10px auto 0;
        }

        /* Nervous face */
        .face-nervous .eye {
            width: 16px;
            height: 16px;
            animation: nervousEyes 1.5s ease-in-out infinite;
        }

        @keyframes nervousEyes {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }

        .face-nervous .smile {
            width: 30px;
            height: 8px;
            border: 3px solid #000;
            border-top: none;
            border-radius: 0 0 30px 30px;
            margin: 16px auto 0;
            animation: nervousSmile 1.5s ease-in-out infinite;
        }

        @keyframes nervousSmile {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }

        /* Excited face */
        .face-excited .eye {
            width: 18px;
            height: 18px;
            animation: excitedEyes 0.8s ease-in-out infinite;
        }

        @keyframes excitedEyes {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .face-excited .smile {
            width: 36px;
            height: 18px;
            border: 4px solid #000;
            border-top: none;
            border-radius: 0 0 36px 36px;
            margin: 10px auto 0;
        }

        /* Head colors */
        .head-yellow .head-main {
            background: linear-gradient(180deg, #FDD835 0%, #F9A825 100%);
        }

        .head-yellow .head-stud {
            background: radial-gradient(ellipse at 50% 40%, #FFF59D, #FBC02D);
        }

        .head-red .head-main {
            background: linear-gradient(180deg, #F44336 0%, #C62828 100%);
        }

        .head-red .head-stud {
            background: radial-gradient(ellipse at 50% 40%, #EF5350, #D32F2F);
        }

        .head-blue .head-main {
            background: linear-gradient(180deg, #2196F3 0%, #1565C0 100%);
        }

        .head-blue .head-stud {
            background: radial-gradient(ellipse at 50% 40%, #42A5F5, #1976D2);
        }

        .head-green .head-main {
            background: linear-gradient(180deg, #4CAF50 0%, #2E7D32 100%);
        }

        .head-green .head-stud {
            background: radial-gradient(ellipse at 50% 40%, #66BB6A, #388E3C);
        }

        .head-orange .head-main {
            background: linear-gradient(180deg, #FF9800 0%, #E65100 100%);
        }

        .head-orange .head-stud {
            background: radial-gradient(ellipse at 50% 40%, #FFB74D, #F57C00);
        }

        .head-purple .head-main {
            background: linear-gradient(180deg, #9C27B0 0%, #6A1B9A 100%);
        }

        .head-purple .head-stud {
            background: radial-gradient(ellipse at 50% 40%, #BA68C8, #7B1FA2);
        }

        .head-pink .head-main {
            background: linear-gradient(180deg, #E91E63 0%, #AD1457 100%);
        }

        .head-pink .head-stud {
            background: radial-gradient(ellipse at 50% 40%, #F06292, #C2185B);
        }

        .head-teal .head-main {
            background: linear-gradient(180deg, #00BCD4 0%, #00838F 100%);
        }

        .head-teal .head-stud {
            background: radial-gradient(ellipse at 50% 40%, #26C6DA, #0097A7);
        }

        /* Rotation animation */
        @keyframes spin {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.1); }
            50% { transform: rotate(180deg) scale(1); }
            75% { transform: rotate(270deg) scale(0.9); }
            100% { transform: rotate(360deg) scale(1); }
        }

        /* Trail effect */
        .head-trail {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 12px;
            opacity: 0.3;
            animation: trailFade 0.5s ease-out forwards;
        }

        @keyframes trailFade {
            0% {
                transform: scale(1);
                opacity: 0.3;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="screensaver-container" id="container"></div>

    <script>
        class LegoHead {
            constructor(container) {
                this.container = container;
                this.x = Math.random() * (1920 - 100);
                this.y = Math.random() * (1080 - 120);
                this.speedX = (Math.random() - 0.5) * 6;
                this.speedY = (Math.random() - 0.5) * 6;
                this.rotationSpeed = (Math.random() - 0.5) * 4;
                this.rotation = Math.random() * 360;
                
                const colors = ['yellow', 'red', 'blue', 'green', 'orange', 'purple', 'pink', 'teal'];
                const faces = ['happy', 'silly', 'wink', 'surprised', 'angry', 'sleepy', 'cool', 'grin', 'nervous', 'excited'];
                
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.faceType = faces[Math.floor(Math.random() * faces.length)];
                
                this.createElement();
                this.trailCounter = 0;
            }

            createElement() {
                this.element = document.createElement('div');
                this.element.className = `lego-head head-${this.color}`;
                this.element.innerHTML = `
                    <div class="head-stud"></div>
                    <div class="head-main">
                        <div class="face face-${this.faceType}">
                            <div class="eyes">
                                <div class="eye"></div>
                                <div class="eye"></div>
                            </div>
                            <div class="smile"></div>
                        </div>
                    </div>
                `;
                this.container.appendChild(this.element);
            }

            createTrail() {
                this.trailCounter++;
                if (this.trailCounter % 3 !== 0) return; // Only create trail every 3 frames

                const trail = document.createElement('div');
                trail.className = 'head-trail';
                trail.style.position = 'absolute';
                trail.style.left = this.x + 'px';
                trail.style.top = this.y + 'px';
                trail.style.width = '80px';
                trail.style.height = '100px';
                trail.style.background = this.getTrailColor();
                trail.style.pointerEvents = 'none';
                
                this.container.appendChild(trail);
                
                setTimeout(() => {
                    trail.remove();
                }, 500);
            }

            getTrailColor() {
                const colorMap = {
                    'yellow': 'radial-gradient(circle, rgba(253, 216, 53, 0.4), transparent)',
                    'red': 'radial-gradient(circle, rgba(244, 67, 54, 0.4), transparent)',
                    'blue': 'radial-gradient(circle, rgba(33, 150, 243, 0.4), transparent)',
                    'green': 'radial-gradient(circle, rgba(76, 175, 80, 0.4), transparent)',
                    'orange': 'radial-gradient(circle, rgba(255, 152, 0, 0.4), transparent)',
                    'purple': 'radial-gradient(circle, rgba(156, 39, 176, 0.4), transparent)',
                    'pink': 'radial-gradient(circle, rgba(233, 30, 99, 0.4), transparent)',
                    'teal': 'radial-gradient(circle, rgba(0, 188, 212, 0.4), transparent)'
                };
                return colorMap[this.color];
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.rotation += this.rotationSpeed;

                // Apply gentle damping to gradually slow down
                this.speedX *= 0.995;
                this.speedY *= 0.995;

                // If moving too slow, add a small random boost
                const currentSpeed = Math.sqrt(this.speedX * this.speedX + this.speedY * this.speedY);
                if (currentSpeed < 1) {
                    this.speedX += (Math.random() - 0.5) * 2;
                    this.speedY += (Math.random() - 0.5) * 2;
                }

                // Apply speed limit to prevent going too fast
                const maxSpeed = 8;
                if (currentSpeed > maxSpeed) {
                    this.speedX = (this.speedX / currentSpeed) * maxSpeed;
                    this.speedY = (this.speedY / currentSpeed) * maxSpeed;
                }

                // Apply damping to rotation
                this.rotationSpeed *= 0.98;
                if (Math.abs(this.rotationSpeed) < 0.3) {
                    this.rotationSpeed = (Math.random() - 0.5) * 2;
                }

                // Bounce off edges with slight speed boost
                if (this.x <= 0 || this.x >= 1920 - 80) {
                    this.speedX *= -0.9;
                    this.x = Math.max(0, Math.min(this.x, 1920 - 80));
                }

                if (this.y <= 0 || this.y >= 1080 - 100) {
                    this.speedY *= -0.9;
                    this.y = Math.max(0, Math.min(this.y, 1080 - 100));
                }

                // Create trail effect
                this.createTrail();

                // Update element position
                this.element.style.left = this.x + 'px';
                this.element.style.top = this.y + 'px';
                this.element.style.transform = `rotate(${this.rotation}deg)`;
            }
        }

        // Initialize screensaver
        const container = document.getElementById('container');
        const heads = [];
        const numHeads = 12; // Number of LEGO heads flying around

        // Create LEGO heads
        for (let i = 0; i < numHeads; i++) {
            heads.push(new LegoHead(container));
        }

        // Animation loop
        function animate() {
            heads.forEach(head => head.update());
            requestAnimationFrame(animate);
        }

        animate();

        // Check for collisions between heads
        function checkCollisions() {
            for (let i = 0; i < heads.length; i++) {
                for (let j = i + 1; j < heads.length; j++) {
                    const dx = heads[i].x - heads[j].x;
                    const dy = heads[i].y - heads[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    const minDistance = 90;

                    if (distance < minDistance && distance > 0) {
                        // Calculate collision normal
                        const nx = dx / distance;
                        const ny = dy / distance;
                        
                        // Separate the heads immediately to prevent sticking
                        const overlap = minDistance - distance;
                        const separateX = nx * overlap * 0.5;
                        const separateY = ny * overlap * 0.5;
                        
                        heads[i].x += separateX;
                        heads[i].y += separateY;
                        heads[j].x -= separateX;
                        heads[j].y -= separateY;
                        
                        // Calculate relative velocity
                        const dvx = heads[i].speedX - heads[j].speedX;
                        const dvy = heads[i].speedY - heads[j].speedY;
                        
                        // Calculate relative velocity in collision normal direction
                        const dvn = dvx * nx + dvy * ny;
                        
                        // Only bounce if they're moving towards each other
                        if (dvn < 0) {
                            // More energetic bounce for dynamic movement
                            const bounceForce = dvn * 1.1;
                            
                            heads[i].speedX -= bounceForce * nx;
                            heads[i].speedY -= bounceForce * ny;
                            heads[j].speedX += bounceForce * nx;
                            heads[j].speedY += bounceForce * ny;
                            
                            // Add small random impulse for variety
                            const randomImpulse = 0.5;
                            heads[i].speedX += (Math.random() - 0.5) * randomImpulse;
                            heads[i].speedY += (Math.random() - 0.5) * randomImpulse;
                            heads[j].speedX += (Math.random() - 0.5) * randomImpulse;
                            heads[j].speedY += (Math.random() - 0.5) * randomImpulse;
                            
                            // Dynamic rotation change when they collide
                            heads[i].rotationSpeed += (Math.random() - 0.5) * 3;
                            heads[j].rotationSpeed += (Math.random() - 0.5) * 3;
                        }
                    }
                }
            }
        }

        // Check collisions every frame
        setInterval(checkCollisions, 1000 / 60);
    </script>
</body>
</html>
